- function capitalize(string) {
  - return string.charAt(0).toUpperCase() + string.slice(1);
- }

mixin separator
  |  &rsaquo;&nbsp;

mixin breadcrumb(url, title)
  span(itemscope, itemtype='http://data-vocabulary.org/Breadcrumb')
    a(href='#{ url }', itemprop='url')
      span(itemprop='title')= title

- var isIndex = current.source === 'index'

+breadcrumb('/', 'Home')
if !isIndex || current.path.length > 1
  each item in current.path.slice(0, isIndex ? -2 : -1)
    +separator
    +breadcrumb('/' + item + '/', capitalize(item))
  +separator
  span.current= isIndex ? capitalize(current.path[0]) : title
